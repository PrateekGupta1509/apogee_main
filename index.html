<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>APOGEE 16</title>
	<script src="js/jquery.min.js"></script>
	<style type="text/css">
		*{
			box-sizing:border-box;
		}

		body,html
		{
			position: absolute;
			top: 0;
			left: 0;
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			overflow:hidden;
		}

		.fulldiv
		{
			position: absolute;
			top:0;
			left: 0;
			width: 100vw;
			height: 100vh;
		}

		.abs_center
		{
			position: absolute;
			top:0;
			left: 0;
			right: 0;
			bottom: 0;
			margin: auto;
		}

		#events{
			background-color: red;
		}

		#event_top,#event_bottom
		{
			position: absolute;
			left:0;
			right: 0;
			margin: auto;
			width: 20%;
			height: 100px;
			background-color: blue;
			overflow: hidden;
		}
		#event_top{bottom:100%;}
		#event_bottom{top: 100%;}

		#event_left,#event_right
		{
			position: absolute;
			width: 1120px;
			top:0;
			bottom: 0;
			margin: auto;
			height: 140px;
			background-color: yellow;
		}
		#event_left{right:100%;}
		#event_right{left: 100%;}

		#event_prev
		{
			width: 935px;
			height: 550px;
			background-color: black;
			background: url("img/icon/bgs.png");
			/*background-repeat: repeat-x;*/
		    background-size: auto 100%;
		    background-position: 0 0; 
		    -webkit-transition: background-position 500ms ease;
		    transition: background-position 500ms ease;
		}

		#event_left .strip {background-position: 0px 0; }
		#event_right .strip {background-position: -140px 0; }
		.strip{
			background: url("img/icon/strip.png");
			/*background-repeat: repeat-x;*/
		    background-size: auto 100%;
		    height: 100%;
		    position: absolute;
		    -webkit-transition: background-position 500ms ease;
		    transition: background-position 500ms ease;
		    width: 1120px;
		}

		.e_strip{
			position: absolute;
			top:0;
			left:0;
			width: 100%;
		}
		.event_cont{
			width:100%;
			line-height: 50px;
			text-align: center;
		}
	</style>

</head>
<body>
	<div id="events" class="fulldiv">
		
		
		<div id="event_prev" class="abs_center">
			<div id="event_top">
				<div class="e_strip" style="top:-350px">
					<div class="event_cont">Event 6</div>
					<div class="event_cont">Event 7</div>
					<div class="event_cont">Event 1</div>
					<div class="event_cont">Event 2</div>
					<div class="event_cont">Event 3</div>
					<div class="event_cont">Event 4</div>
					<div class="event_cont">Event 5</div>
					<div class="event_cont">Event 6</div>
					<div class="event_cont">Event 7</div>
					<div class="event_cont">Event 1</div>
					<div class="event_cont">Event 2</div>
				</div>
			</div>
			<div id="event_bottom">
				<div class="e_strip" style="top:-150px">
					<div class="event_cont">Event 6</div>
					<div class="event_cont">Event 7</div>
					<div class="event_cont">Event 1</div>
					<div class="event_cont">Event 2</div>
					<div class="event_cont">Event 3</div>
					<div class="event_cont">Event 4</div>
					<div class="event_cont">Event 5</div>
					<div class="event_cont">Event 6</div>
					<div class="event_cont">Event 7</div>
					<div class="event_cont">Event 1</div>
					<div class="event_cont">Event 2</div>
				</div>
			</div>
			<div id="event_left">
				<div class="strip"></div>
			</div>
			<div id="event_right">
				<div class="strip"></div>
			</div>
			<!-- <div id="backstrip"></div> -->
		</div>
	</div>

<script type="text/javascript">
var cat =
[
	{
		"cat_name" : "c1",	
		"events" : [],
		"icon" : "img/icon/c1.jpg",
		"backg" : "img/icon/cb1.jpg"
	},
	{
		"cat_name" : "c2",	
		"events" : [],
		"icon" : "img/icon/c2.jpg",
		"backg" : "img/icon/cb2.jpg"
	},
	{
		"cat_name" : "c3",	
		"events" : [],
		"icon" : "img/icon/c3.jpg",
		"backg" : "img/icon/cb3.jpg"
	},
	{
		"cat_name" : "c4",	
		"events" : [],
		"icon" : "img/icon/c4.jpg",
		"backg" : "img/icon/cb4.jpg"
	},
	{
		"cat_name" : "c5",	
		"events" : [],
		"icon" : "img/icon/c5.jpg",
		"backg" : "img/icon/cb5.jpg"
	},
];

var cur_cat = 0,cur_event=0;
var keyallow = true;
function next_strip(){
	if(!keyallow)
	{
		return;
	}
	keyallow = false;
	var c = $('#event_right>.strip').css('background-position');
	$('#event_right>.strip').css('background-position',((parseInt(c)-140) + 'px 0'));
	$('#event_left>.strip').css('background-position',c);
	$('#event_prev').css('background-position',((parseInt($('#event_prev').css('background-position')) - 935)+'px 0'));
	setTimeout(function() {
		keyallow = true;
	}, 550);
}
function prev_strip(){
	if(!keyallow)
	{
		return;
	}
	keyallow = false;
	var c = $('#event_left>.strip').css('background-position');
	$('#event_left>.strip').css('background-position',((parseInt(c)+140) + 'px 0'));
	$('#event_right>.strip').css('background-position',c);
	$('#event_prev').css('background-position',((parseInt($('#event_prev').css('background-position')) + 935)+'px 0'));
	setTimeout(function() {
		keyallow = true;
	}, 550);
}
var lh = parseInt($('.event_cont').css('line-height'));
function next_eve(){
	if(!keyallow)
	{
		return;
	}
	keyallow = false;
	$('#event_top>.e_strip').animate({top:(parseInt($('#event_top>.e_strip').css('top')) - lh) + 'px'},500);
	$('#event_bottom>.e_strip').animate({top:(parseInt($('#event_bottom>.e_strip').css('top')) - lh) + 'px'},500);
	setTimeout(function() {
		var tt=parseInt($('#event_top>.e_strip').css('top'))*-1;
		var bt=parseInt($('#event_bottom>.e_strip').css('top'))*-1;
		if(tt > ($('#event_top>.e_strip>.event_cont').length-3)*lh)
		{
			$('#event_top>.e_strip').css('top','-100px');
		}
		if(bt > ($('#event_bottom>.e_strip>.event_cont').length-3)*lh)
		{
			$('#event_bottom>.e_strip').css('top','-100px');
		}
		keyallow = true;
	}, 550);
}
function prev_eve(){
	if(!keyallow)
	{
		return;
	}
	keyallow = false;
	$('#event_top>.e_strip').animate({top:(parseInt($('#event_top>.e_strip').css('top')) + lh) + 'px'},500);
	$('#event_bottom>.e_strip').animate({top:(parseInt($('#event_bottom>.e_strip').css('top')) + lh) + 'px'},500);
	setTimeout(function() {
		var tt=parseInt($('#event_top>.e_strip').css('top'))*-1;
		var bt=parseInt($('#event_bottom>.e_strip').css('top'))*-1;
		if(tt == 0)
		{
			$('#event_top>.e_strip').css('top',($('#event_top>.e_strip>.event_cont').length-4)*-lh + 'px');
		}
		if(bt == 0)
		{
			$('#event_bottom>.e_strip').css('top',($('#event_bottom>.e_strip>.event_cont').length-4)*-lh + 'px');
		}
		keyallow =true;
	}, 550);
}

$(window).keydown(function(e)
{
    var keycode = e.keyCode || e.which;
    switch(keycode)
    {
    	case 37: 
				prev_strip();
				break;
    	case 38: 
				prev_eve();
    			break;
    	case 39:
				next_strip();
    			break;
    	case 40:
				next_eve();
    			break;
    }
});
$('')
</script>
</body>
</html>